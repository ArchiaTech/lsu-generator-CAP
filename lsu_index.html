<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECOLE DU CAP - √âcole Primaire</title>
        <!-- Font Awesome CSS (fallback pour les ic√¥nes) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        /* Header avec image de l'√©cole */
        .header {
            position: relative;
            height: 400px;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), 
                        url('https://images.unsplash.com/photo-1523050854058-8df90110c9e1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
        }

        .welcome-message {
            background: rgba(0, 0, 0, 0.7);
            padding: 30px 40px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .welcome-message h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .welcome-message p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Barre de navigation */
        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 25px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .nav-button.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* Container principal */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Section Photos des classes */
        .photos-section {
            margin-top: 40px;
        }

        .section-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
            color: #2c3e50;
            font-weight: 600;
        }

        .classes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .class-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .class-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .class-image-container {
            position: relative;
            height: 200px;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .class-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .class-image:hover {
            transform: scale(1.05);
        }

        .placeholder-text {
            color: #999;
            font-size: 1.1rem;
            text-align: center;
        }

        .class-info {
            padding: 20px;
        }

        .class-name {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }

        .edit-photo-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .edit-photo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .file-input {
            display: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .welcome-message h1 {
                font-size: 2rem;
            }

            .welcome-message p {
                font-size: 1rem;
            }

            .nav-container {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }

            .nav-button {
                width: 200px;
                justify-content: center;
            }

            .classes-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .section-title {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .header {
                height: 300px;
            }

            .welcome-message {
                padding: 20px 25px;
            }

            .welcome-message h1 {
                font-size: 1.5rem;
            }

            .container {
                padding: 20px 15px;
            }
        }

        /* Animation d'apparition */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .class-card {
            animation: fadeInUp 0.6s ease forwards;
        }

        .class-card:nth-child(1) { animation-delay: 0.1s; }
        .class-card:nth-child(2) { animation-delay: 0.2s; }
        .class-card:nth-child(3) { animation-delay: 0.3s; }
        .class-card:nth-child(4) { animation-delay: 0.4s; }
        .class-card:nth-child(5) { animation-delay: 0.5s; }
    
        /* Am√©lioration de la compatibilit√© des ic√¥nes */
        .icon-fallback {
            display: inline-block;
            width: 1em;
            height: 1em;
            text-align: center;
            line-height: 1;
        }

        /* Fallback pour les emojis qui ne s'affichent pas */
        .btn .emoji-icon {
            display: inline-block;
            margin-right: 5px;
        }

        /* Styles pour les ic√¥nes Font Awesome en fallback */
        .fa-fallback {
            display: none;
        }

        /* Am√©lioration de l'affichage des boutons avec ic√¥nes */
        .btn-with-icon {
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        /* Am√©lioration de l'affichage des emojis */
        .emoji-icon {
            font-size: 1.1em;
            vertical-align: middle;
        }

        /* Styles pour les ic√¥nes Font Awesome */
        .icon-fa {
            font-size: 1.1em;
            width: 20px;
            text-align: center;
            margin-right: 8px;
        }

        /* Am√©lioration des boutons avec ic√¥nes */
        .btn-with-icon {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
        }

        .btn-with-icon:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Styles sp√©cifiques pour les boutons d'action */
        .btn-with-icon.btn-success {
            background: linear-gradient(135deg, #28a745, #1e7e34);
            color: white;
        }

        .btn-with-icon.btn-info {
            background: linear-gradient(135deg, #17a2b8, #117a8b);
            color: white;
        }

        .btn-with-icon.btn-warning {
            background: linear-gradient(135deg, #ffc107, #e0a800);
            color: #212529;
        }

        .btn-with-icon.btn-primary {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
        }

        .btn-with-icon.btn-danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
        }

        .btn-with-icon.btn-secondary {
            background: linear-gradient(135deg, #6c757d, #545b62);
            color: white;
        }
</style>
</head>
<body>
    <!-- Header avec image de l'√©cole -->
    <header class="header">
        <div class="welcome-message">
            <h1>ÔøΩÔøΩ ECOLE DU CAP</h1>
            <p>Bienvenue √† l'ECOLE DU CAP</p>
        </div>
    </header>

    <!-- Barre de navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-button active">
                üè† Accueil
            </a>
            <a href="lsu_generator.html" class="nav-button">
                üéì G√©n√©rateur LSU
            </a>
            <a href="profils_eleves.html" class="nav-button">
                üë• Profils √©l√®ves
            </a>
            <a href="dashboard.html" class="nav-button">
                üìä Tableau de bord
            </a>
        </div>
    </nav>

    <!-- Container principal -->
    <div class="container">
        <!-- Section Photos des classes -->
        <section class="photos-section">
            <h2 class="section-title">üì∑ Photos des classes</h2>
            
            <div class="classes-grid">
                <!-- Classe CP -->
                <div class="class-card">
                    <div class="class-image-container">
                        <img src="" alt="Photo de la classe CP" class="class-image" id="cp-image">
                        <div class="placeholder-text" id="cp-placeholder">Aucune photo</div>
                    </div>
                    <div class="class-info">
                        <h3 class="class-name">Classe de CP</h3>
                        <button class="edit-photo-btn" onclick="document.getElementById('cp-file').click()"> class="btn-with-icon"><i class="fas fa-camera icon-fa"></i><i class="fas fa-camera fa-fallback"></i>Modifier la photo
                        </button>
                        <input type="file" id="cp-file" class="file-input" accept="image/*" onchange="updateImage('cp', this)">
                    </div>
                </div>

                <!-- Classe CE1 -->
                <div class="class-card">
                    <div class="class-image-container">
                        <img src="" alt="Photo de la classe CE1" class="class-image" id="ce1-image">
                        <div class="placeholder-text" id="ce1-placeholder">Aucune photo</div>
                    </div>
                    <div class="class-info">
                        <h3 class="class-name">Classe de CE1</h3>
                        <button class="edit-photo-btn" onclick="document.getElementById('ce1-file').click()"> class="btn-with-icon"><i class="fas fa-camera icon-fa"></i><i class="fas fa-camera fa-fallback"></i>Modifier la photo
                        </button>
                        <input type="file" id="ce1-file" class="file-input" accept="image/*" onchange="updateImage('ce1', this)">
                    </div>
                </div>

                <!-- Classe CE2 -->
                <div class="class-card">
                    <div class="class-image-container">
                        <img src="" alt="Photo de la classe CE2" class="class-image" id="ce2-image">
                        <div class="placeholder-text" id="ce2-placeholder">Aucune photo</div>
                    </div>
                    <div class="class-info">
                        <h3 class="class-name">Classe de CE2</h3>
                        <button class="edit-photo-btn" onclick="document.getElementById('ce2-file').click()"> class="btn-with-icon"><i class="fas fa-camera icon-fa"></i><i class="fas fa-camera fa-fallback"></i>Modifier la photo
                        </button>
                        <input type="file" id="ce2-file" class="file-input" accept="image/*" onchange="updateImage('ce2', this)">
                    </div>
                </div>

                <!-- Classe CM1 -->
                <div class="class-card">
                    <div class="class-image-container">
                        <img src="" alt="Photo de la classe CM1" class="class-image" id="cm1-image">
                        <div class="placeholder-text" id="cm1-placeholder">Aucune photo</div>
                    </div>
                    <div class="class-info">
                        <h3 class="class-name">Classe de CM1</h3>
                        <button class="edit-photo-btn" onclick="document.getElementById('cm1-file').click()"> class="btn-with-icon"><i class="fas fa-camera icon-fa"></i><i class="fas fa-camera fa-fallback"></i>Modifier la photo
                        </button>
                        <input type="file" id="cm1-file" class="file-input" accept="image/*" onchange="updateImage('cm1', this)">
                    </div>
                </div>

                <!-- Classe CM2 -->
                <div class="class-card">
                    <div class="class-image-container">
                        <img src="" alt="Photo de la classe CM2" class="class-image" id="cm2-image">
                        <div class="placeholder-text" id="cm2-placeholder">Aucune photo</div>
                    </div>
                    <div class="class-info">
                        <h3 class="class-name">Classe de CM2</h3>
                        <button class="edit-photo-btn" onclick="document.getElementById('cm2-file').click()"> class="btn-with-icon"><i class="fas fa-camera icon-fa"></i><i class="fas fa-camera fa-fallback"></i>Modifier la photo
                        </button>
                        <input type="file" id="cm2-file" class="file-input" accept="image/*" onchange="updateImage('cm2', this)">
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Fonction pour mettre √† jour l'image de la classe
        function updateImage(classe, input) {
            const file = input.files[0];
            if (file) {
                // V√©rifier que c'est bien une image
                if (!file.type.startsWith('image/')) {
                    alert('Veuillez s√©lectionner une image valide.');
                    return;
                }

                // Cr√©er un URL pour l'aper√ßu
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imageElement = document.getElementById(classe + '-image');
                    const placeholderElement = document.getElementById(classe + '-placeholder');
                    
                    // Afficher l'image
                    imageElement.src = e.target.result;
                    imageElement.style.display = 'block';
                    
                    // Masquer le placeholder
                    placeholderElement.style.display = 'none';
                    
                    // Sauvegarder dans localStorage pour persistance
                    localStorage.setItem('photo_' + classe, e.target.result);
                    
                    // Feedback utilisateur
                    showNotification(`Photo de la classe ${classe.toUpperCase()} mise √† jour !`);
                };
                reader.readAsDataURL(file);
            }
        }

        // Fonction pour afficher une notification
        function showNotification(message) {
            // Cr√©er l'√©l√©ment de notification
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                z-index: 10000;
                font-weight: 500;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            
            // Ajouter l'animation CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
            
            // Ajouter au DOM
            document.body.appendChild(notification);
            
            // Supprimer apr√®s 3 secondes
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Fonction pour charger les images sauvegard√©es au chargement de la page
        function loadSavedImages() {
            const classes = ['cp', 'ce1', 'ce2', 'cm1', 'cm2'];
            
            classes.forEach(classe => {
                const savedImage = localStorage.getItem('photo_' + classe);
                if (savedImage) {
                    const imageElement = document.getElementById(classe + '-image');
                    const placeholderElement = document.getElementById(classe + '-placeholder');
                    
                    imageElement.src = savedImage;
                    imageElement.style.display = 'block';
                    placeholderElement.style.display = 'none';
                }
            });
        }

        // Charger les images sauvegard√©es au chargement de la page
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedImages();
            
            // Ajouter un effet de hover sur les cartes
            const cards = document.querySelectorAll('.class-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        });

        // Validation des fichiers
        function validateFile(input) {
            const file = input.files[0];
            const maxSize = 5 * 1024 * 1024; // 5MB
            
            if (file && file.size > maxSize) {
                alert('L\'image est trop volumineuse. Taille maximum : 5MB');
                input.value = '';
                return false;
            }
            
            return true;
        }

        // Am√©liorer la fonction updateImage avec validation
        function updateImage(classe, input) {
            if (!validateFile(input)) return;
            
            const file = input.files[0];
            if (file) {
                if (!file.type.startsWith('image/')) {
                    alert('Veuillez s√©lectionner une image valide (JPG, PNG, GIF, etc.)');
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    const imageElement = document.getElementById(classe + '-image');
                    const placeholderElement = document.getElementById(classe + '-placeholder');
                    
                    // Pr√©charger l'image pour v√©rifier qu'elle se charge correctement
                    const img = new Image();
                    img.onload = function() {
                        imageElement.src = e.target.result;
                        imageElement.style.display = 'block';
                        placeholderElement.style.display = 'none';
                        localStorage.setItem('photo_' + classe, e.target.result);
                        showNotification(`‚úÖ Photo de la classe ${classe.toUpperCase()} mise √† jour !`);
                    };
                    img.onerror = function() {
                        alert('Erreur lors du chargement de l\'image. Veuillez r√©essayer.');
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }
    </script>

    <script>
    // Script de d√©tection et correction des ic√¥nes manquantes
    document.addEventListener('DOMContentLoaded', function() {
        // Fonction pour d√©tecter si un emoji s'affiche correctement
        function isEmojiSupported(emoji) {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            ctx.font = '16px Arial';
            ctx.fillText(emoji, 0, 16);
            const data = ctx.getImageData(0, 0, 16, 16).data;
            return data.some(pixel => pixel !== 0);
        }
        
        // V√©rifier et corriger les ic√¥nes
        function fixMissingIcons() {
            const emojiElements = document.querySelectorAll('.emoji-icon');
            
            emojiElements.forEach(element => {
                const emoji = element.textContent;
                if (!isEmojiSupported(emoji)) {
                    // Masquer l'emoji et afficher l'ic√¥ne Font Awesome
                    element.style.display = 'none';
                    const fallbackIcon = element.nextElementSibling;
                    if (fallbackIcon && fallbackIcon.classList.contains('fa-fallback')) {
                        fallbackIcon.style.display = 'inline-block';
                    }
                }
            });
        }
        
        // Ex√©cuter apr√®s un d√©lai pour laisser le temps au rendu
        setTimeout(fixMissingIcons, 100);
        
        // R√©ex√©cuter si n√©cessaire
        window.addEventListener('load', fixMissingIcons);
    });
    </script>
</body>
</html>